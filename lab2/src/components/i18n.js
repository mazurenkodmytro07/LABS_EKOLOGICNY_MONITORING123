const dict = {
  ua: {
    title: "–°—Ç–∞–Ω—Ü—ñ—ó",
    refreshBtn: "–û–Ω–æ–≤–∏—Ç–∏",
    addStationBtn: "–î–æ–¥–∞—Ç–∏ —Å—Ç–∞–Ω—Ü—ñ—é",
    searchPlaceholder: "–ü–æ—à—É–∫ –ø–æ –º—ñ—Å—Ç—É",
    powerOn: "–ü–æ—Ç—É–∂–Ω–∏–π —Å—Ç–∏–ª—å: –í–ö–õ",
    powerOff: "–ü–æ—Ç—É–∂–Ω–∏–π —Å—Ç–∏–ª—å: –í–ò–ö–õ",
    langLabel: "–ú–æ–≤–∞: –£–∫—Ä",
    langLabelEn: "–ú–æ–≤–∞: –ê–Ω–≥–ª",
    limitsBtn: "–ù–æ—Ä–º–∞—Ç–∏–≤–∏",
    city: "–ú—ñ—Å—Ç–æ",
    indicator: "–ü–æ–∫–∞–∑–Ω–∏–∫",
    activeCol: "–ê–∫—Ç–∏–≤–Ω–∞",
    actionsCol: "–î—ñ—ó",
    editBtn: "‚úèÔ∏è –†–µ–¥–∞–≥—É–≤–∞—Ç–∏",
    deleteBtn: "üóë –í–∏–¥–∞–ª–∏—Ç–∏",
    airBtn: "üìä –Ø–∫—ñ—Å—Ç—å –ø–æ–≤—ñ—Ç—Ä—è",
    apiError: "API –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –±–µ–∫–µ–Ω–¥.",
    loading: "–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è‚Ä¶",
    confirmDeleteStation: "–í–∏–¥–∞–ª–∏—Ç–∏ —Å—Ç–∞–Ω—Ü—ñ—é?",
    airTitle: "–Ø–∫—ñ—Å—Ç—å –ø–æ–≤—ñ—Ç—Ä—è",
    generate: "–ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏",
    calc: "–†–æ–∑—Ä–∞—Ö—É–≤–∞—Ç–∏",
    close: "–ó–∞–∫—Ä–∏—Ç–∏",
    showHistory: "–ü–æ–∫–∞–∑–∞—Ç–∏ —ñ—Å—Ç–æ—Ä—ñ—é",
    calcError: "–ü–æ–º–∏–ª–∫–∞ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É",
    networkError: "–ü–æ–º–∏–ª–∫–∞ –º–µ—Ä–µ–∂—ñ",
    indexI: "–Ü–Ω–¥–µ–∫—Å I",
    classLabel: "–ö–ª–∞—Å",
    name: "–ü–∞—Ä–∞–º–µ—Ç—Ä",
    value: "–ó–Ω–∞—á–µ–Ω–Ω—è",
    subIndex: "–ü—ñ–¥—ñ–Ω–¥–µ–∫—Å",
    unit: "–û–¥–∏–Ω–∏—Ü—è",
    historyTitle: "–Ü—Å—Ç–æ—Ä—ñ—è —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—ñ–≤",
    historyDate: "–î–∞—Ç–∞",
    historyIndex: "–Ü–Ω–¥–µ–∫—Å",
    historyClass: "–ö–ª–∞—Å",
    historyEmpty: "–Ü—Å—Ç–æ—Ä—ñ—è –ø–æ–∫–∏ —â–æ –ø–æ—Ä–æ–∂–Ω—è.",
    class_good: "–î–æ–±—Ä–µ",
    class_moderate: "–ü–æ–º—ñ—Ä–Ω–µ –∑–∞–±—Ä—É–¥–Ω–µ–Ω–Ω—è",
    class_unhealthy: "–®–∫—ñ–¥–ª–∏–≤–æ",
    class_very_unhealthy: "–î—É–∂–µ —à–∫—ñ–¥–ª–∏–≤–æ",
    pm25: "PM2.5",
    pm10: "PM10",
    no2: "NO‚ÇÇ",
    so2: "SO‚ÇÇ",
    o3: "O‚ÇÉ",
    rangePm25: "5‚Äì150 ¬µg/m¬≥",
    rangePm10: "10‚Äì300 ¬µg/m¬≥",
    rangeNo2: "10‚Äì400 ¬µg/m¬≥",
    rangeSo2: "5‚Äì200 ¬µg/m¬≥",
    rangeO3: "10‚Äì250 ¬µg/m¬≥",
    limitsTitle: "–†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –Ω–æ—Ä–º–∞—Ç–∏–≤—ñ–≤",
    limitsInfo: "–ì—Ä–∞–Ω–∏—á–Ω—ñ –Ω–æ—Ä–º–∏ –¥–ª—è —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É —ñ–Ω–¥–µ–∫—Å—É —è–∫–æ—Å—Ç—ñ –ø–æ–≤—ñ—Ç—Ä—è.",
    limitsName: "–ù–∞–∑–≤–∞",
    limitsValue: "–ó–Ω–∞—á–µ–Ω–Ω—è",
    limitsUnit: "–û–¥–∏–Ω–∏—Ü—è",
    save: "–ó–±–µ—Ä–µ–≥—Ç–∏",
    limitsSaved: "–ù–æ—Ä–º–∞—Ç–∏–≤–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–æ.",
  },

  en: {
    title: "Stations",
    refreshBtn: "Refresh",
    addStationBtn: "Add station",
    searchPlaceholder: "Search by city",
    powerOn: "Power mode: ON",
    powerOff: "Power mode: OFF",
    langLabel: "Lang: Eng",
    langLabelEn: "Lang: Eng",
    limitsBtn: "Limits",
    city: "City",
    indicator: "Indicator",
    activeCol: "Active",
    actionsCol: "Actions",
    editBtn: "‚úèÔ∏è Edit",
    deleteBtn: "üóë Delete",
    airBtn: "üìä Air quality",
    apiError: "API is not available. Check backend.",
    loading: "Loading‚Ä¶",
    confirmDeleteStation: "Delete station?",
    airTitle: "Air quality",
    generate: "Generate",
    calc: "Calculate",
    close: "Close",
    showHistory: "Show history",
    calcError: "Calculation error",
    networkError: "Network error",
    indexI: "Index I",
    classLabel: "Class",
    name: "Parameter",
    value: "Value",
    subIndex: "Sub-index",
    unit: "Unit",
    historyTitle: "Calculation history",
    historyDate: "Date",
    historyIndex: "Index",
    historyClass: "Class",
    historyEmpty: "History is empty yet.",
    class_good: "Good",
    class_moderate: "Moderate pollution",
    class_unhealthy: "Unhealthy",
    class_very_unhealthy: "Very unhealthy",
    pm25: "PM2.5",
    pm10: "PM10",
    no2: "NO‚ÇÇ",
    so2: "SO‚ÇÇ",
    o3: "O‚ÇÉ",
    rangePm25: "5‚Äì150 ¬µg/m¬≥",
    rangePm10: "10‚Äì300 ¬µg/m¬≥",
    rangeNo2: "10‚Äì400 ¬µg/m¬≥",
    rangeSo2: "5‚Äì200 ¬µg/m¬≥",
    rangeO3: "10‚Äì250 ¬µg/m¬≥",
    limitsTitle: "Edit limits",
    limitsInfo: "Air quality index limits.",
    limitsName: "Name",
    limitsValue: "Value",
    limitsUnit: "Unit",
    save: "Save",
    limitsSaved: "Limits saved.",
  },
};

export function t(lang, key) {
  const d = dict[lang] || dict.ua;
  return d[key] ?? key;
}

export function getInitialLang() {
  try {
    const stored = localStorage.getItem("lang");
    if (stored === "ua" || stored === "en") return stored;
  } catch {
  }

  const nav = typeof navigator !== "undefined" ? navigator.language || "" : "";
  const lower = nav.toLowerCase();
  if (lower.startsWith("uk") || lower.startsWith("ru")) return "ua";
  return "en";
}

export { dict as messages };